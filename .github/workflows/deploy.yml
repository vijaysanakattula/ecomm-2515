name: Ecomm Deployment
on: 
 - push  # push based/ automatic trigger 
 - workflow_dispatch  # manual trigger
jobs:
  deploy:
    runs-on: self-hosted
    steps:
      - name: Clone the Code
        uses: actions/checkout@v5.0.0
      - name: Install Nginx
        run: sudo apt install nginx -y
      - name: Remove Default Page
        run: sudo rm -rf /var/www/html/*
      - name: Deploy Code 
        run: sudo cp -rf ecomm-2515/* /var/www/html/
      - name: Restart Nginx
        run: sudo systemctl restart nginx
